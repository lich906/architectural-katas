**2023-12-10 - Выбор архитектурной формы системы**

**Статус:** принято

**Контекст:**
Выбор архитектурной формы Сервиса Управления Задачами является
фундаментальным аспектом проектирования и разработки веб-приложения.

Оно во многом определяет скорость разработки, трудоёмкость поддержки, масштабирования и развёртывания

**Рассмотренные варианты:**

1. Модульный монолит - один репозиторий, разделённый на модули, каждый из которых обладает ответственностью за определённый функционал/сущность
2. Микросервисы - совокупность абстрагированных систем, коммуницирующих между собой посредством API
3. Серверлесс - архитектура без чётко выраженной серверной части, где логика выполняется в ответ на события

**Решение**:
Предложено использовать Модульный монолит

**Обоснование**:

- **Лёгкость разработки на первых этапах**
- **Контексты изолированы** в гранях модулей, в то же время **доступно межконтекстное взаимодействие** в системе с (тесными) древовидными зависимостями (Доска -> Задачи -> Проект, Пользователи)
- **Простота развёртывания** standalone решения и локального решения проекта, создания реплик
- **Удобство горизонтального расширения**
- **Простота вхождения в контекст новых сотрудников,** освоения стека, выдачи доступов
- **Простота выделения MVP** и планирования
- **Упрощённое регрессионное и интеграционное тестирование**

**Недостатки**:
- **Сложность написания тестов с точки зрения "полезности" и технологий**
- **Код монолита слабо изолирован и быстрее "захламляется"**
- **Время сборки может расти по мере расширения проекта, обновления с даунтаймом**
- **С точки зрения безопасности все элементы системы одинаково уязвимы**

**Последствия:**
- Следует выделять больше времени на **проектирование сущностей и их взаимодействия между собой** для уменьшения количетсва "костылей" и legacy-кода
- Следует сформировать **культуру и методы тестирования (написания тестов)**
- Следует сформировать **представление о безопасности взлома через UI** (sql-инъекции и т.п.) и **обеспечить шифрование чувтсвительных данных** внутри сервисной части, обеспечить достаточный уровень защиты для сервисной части (авторизированные запросы)
- Следует сформировать чёткий механизм **бэклогинга и выполнения technical Dept задач**

**Присутствовавшие люди:**
Павел Волков