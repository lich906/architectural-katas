**2023-12-26 - Выбор стека технологий для реализации Api-Gateway**

**Статус:**  принято

**Контекст:**
Выбор стека технологий для реализации Api-Gateway будет определять, какой функционал системы сможет покрыть Api-Gateway, насколько он будет производителен


**Рассмотренные варианты:**

1. Написать собственное решение для Api-Gateway на языке Go
2. OpenResty/Nginx/Lua - экосистема, выстроенная вокруг сервера Nginx
3. Apache APISIX - готовое решение для Api-Gateway от Apache

**Решение**:
Принято решение использовать связку технологий OpenResty/Nginx/Lua

**Обоснование**:
- OpenResty надежный, протестированный software, поддерживающий масштабирование.
- Возможность создания middleware программ на легковесном языке Lua
- Не перегружен лишними функциями, идеально подходит для установки на инфраструктуре с низкими системными возможностями
- Прост в конфигурации, есть обширная документация

**Недостатки**:
- Т.к. проект open-source, злоумышленники могут свободно анализировать уязвимости и эксплуатировать их
- Необходимость тщательно следить за чистотой кода в конфигурации, Lua скриптах. Возможность ошибок в Nginx, Lua выше, чем в Apache APISIX.

**Последствия:**
- Разработчики и системные администраторы должны быть знакомы с Nginx, Lua, с работой конвеера запросов в Nginx сервере
- Иcпользование OpenResty/Nginx/Lua позволит гибко конфигурировать конвеер обработки HTTPS запросов, настроить авторизацию, возможность добавлять middleware код

**Присутствовавшие люди:**
Андрей Мушкин, Волков Павел
